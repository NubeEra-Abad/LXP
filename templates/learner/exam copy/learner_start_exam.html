{% extends 'learner/learnerbase.html' %}
{% block content %}
{%load static%}

<head>
  <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
  <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
  <script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
</head>
<div class="jumbotron my-4">
  <input type=button value="Back" onClick="javascript:history.go(-1);" class="btn btn-primary">
  <form class="form" autocomplete="off" onsubmit="return saveAns()"  action="/learner/calculate-marks" method="POST">
    {% csrf_token %}
    <h1 style="text-align: center;">{{exam.exam_name}}</h1>
    {% for q in questions%}
    <h3 class="text-info">{{ forloop.counter }}. {{q.question}}</h3><h4 style="text-align: right;">[Marks {{q.marks}}]</h4>
    
        <input type="hidden" name="csrfmiddlewaretoken" value="C24rUotmdHawVQJL3KrqiWxvti8UffOFYUc8TRbZtLt36AVLdP3jbkzUVe3beRAa">
        
        
          <div class="form-check mx-4">
            <input class="form-check-input" type="radio" name="{{ q.id }}" id="{{q.option1}}" value="Option1">
            <label class="form-check-label" for="option1">
              {{q.option1}}
            </label>
          </div>

        
          <div class="form-check mx-4">
            <input class="form-check-input" type="radio" name="{{ q.id }}" id="{{q.option2}}" value="Option2">
            <label class="form-check-label" for="option2">
              {{q.option2}}
            </label>
          </div>

        
          <div class="form-check mx-4">
            <input class="form-check-input" type="radio" name="{{ q.id }}" id="{{q.option3}}" value="Option3">
            <label class="form-check-label" for="option3">
              {{q.option3}}
            </label>
          </div>

        
          <div class="form-check mx-4">
            <input class="form-check-input" type="radio" name="{{ q.id }}" id="{{q.option4}}" value="Option4">
            <label class="form-check-label" for="option4">
              {{q.option4}}
            </label>
          </div>

        {% endfor %}
        <input class="btn btn-info btn-lg"   type="submit" value="Submit">  
    </form>
  </div>

<script> 
    function deleteCookie(name) 
    {
      var d = new Date();
      d.setTime(d.getTime() - (60*60*1000));
      var expires = "expires=" + d.toGMTString();
      document.cookie = name + "=;" + expires + ";path=/";
    }

    function saveAns(){  
        var ele = document.getElementsByTagName('input'); 
        for(i = 0; i < ele.length; i++) 
        {
            if(ele[i].type="radio") 
            { 
              deleteCookie(ele[i].name)
            }
        }
        for(i = 0; i < ele.length; i++) 
        {
            if(ele[i].type="radio") 
            { 
             // deleteCookie(ele[i].name)
                if(ele[i].checked)
                {
                  setCookie(ele[i].name,ele[i].value,3)
                }
            }
        }
    }
    
  function setCookie(cname, cvalue, exdays) 
  {
    var d = new Date();
    d.setTime(d.getTime() + d.getTime());
    var expires = "expires="+ d.toUTCString();
    document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
  }

</script> 

<br><br><br><br><br><br>
{% endblock content %}