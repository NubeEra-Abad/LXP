{% extends 'cto/ctobase.html' %}
{% block content %}
{%load static%}

<head>
  <style>
    a:link {
      text-decoration: none;
    }

    select {
      width: 100%;
      height: 204px;
      line-height: 50px;
    }
  </style>
  <style type="text/css">
    body {
      background: linear-gradient(-45deg, #736e8e, #84bcf3, #AE876B, #B0E7AE);
      background: linear-gradient(-45deg, #0645a4, #2480cd, #84bcf3, #b7d6f7);
      background: linear-gradient(-45deg, #AE876B, #ABA27B, #A7BC8A, #A3D69A);
      background-size: 400% 400%;
      animation: gradient 5s ease infinite;
    }

    @keyframes gradient {
      0% {
        background-position: 0% 50%;
      }

      50% {
        background-position: 100% 50%;
      }

      100% {
        background-position: 0% 50%;
      }
    }

    .progress {
      height: 20px;
      margin-bottom: 20px;
      overflow: hidden;
      background-color: #f5f5f5;
      border-radius: 4px;
      box-shadow: inset 0 1px 2px rgba(0, 0, 0, .1);
    }

    .progress-bar {
      float: left;
      width: 0%;
      height: 100%;
      font-size: 12px;
      line-height: 20px;
      color: #fff;
      text-align: center;
      background-color: #337ab7;
      -webkit-box-shadow: inset 0 -1px 0 rgba(0, 0, 0, .15);
      box-shadow: inset 0 -1px 0 rgba(0, 0, 0, .15);
      -webkit-transition: width .6s ease;
      -o-transition: width .6s ease;
      transition: width .6s ease;
    }
  </style>


  <script src="https://unpkg.com/htmx.org@1.4.1"></script>
  <script src="https://unpkg.com/htmx.org/dist/ext/class-tools.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Open+Sans&display=swap" rel="stylesheet">

  <!-- Bootstrap core CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
</head>
<div class="d-flex justify-content-center pt-3 pb-2 mb-3" style="background-color: cadetblue">
  <div class="w-50">
    <div class="d-flex justify-content-center">
      <h3>Imported playlist '{{ plname }}' from YouTube</h3>
    </div>
    <div class="d-flex justify-content-center">
      <h3>({{ plcount }}/{{ maxcount }} playlists imported)</h3>
    </div>
    <div class="progress">
      <div id="pb" class="progress-bar progress-bar-striped progress-bar-animated bg-warning text-dark"
        style="width:100%" role="progressbar" aria-valuemin="0" aria-valuemax="100">{{ plcount }}%</div>
    </div>
  </div>
</div>

<form method="POST" action="{% url 'cto-sync-youtube-start' %}" style="margin-left: 100px;">
  <button type="submit" class="btn btn-primary">Start All</button>
</form>
<form method="POST" action="{% url 'cto-sync-youtube-byselected-playlist-start' %}" autocomplete="off"
  style="margin:100px;margin-top: 0px;">
  <label>Play list </label>

  <select name="playlist[]" id="field2" multiple multiselect-search="true" multiselect-select-all="true"
    multiselect-max-items="20" onchange="console.log(this.selectedOptions)">

    {% for entry in pllist %}
    <option value="{{ entry.name}}">{{ entry.name }}</option>
    {% endfor %}
  </select> 
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-p34f1UUtsS3wqzfto5wAAmdvj+osOnFyQFpp4Ua3gs/ZVWx6oOypYoCJhGGScy+8"
    crossorigin="anonymous"></script>
  <script src="/static/multiselect-dropdown.js"></script>

  <button type="submit" name="dblist" class="btn btn-primary">Refresh List From Database</button>
  <button type="submit" name="cloudlist" class="btn btn-primary">Refresh List From Cloud</button>
  <button type="submit" name="startselected" class="btn btn-primary">Start sync with selected</button>
</form>
<br><br><br><br><br><br>
{% endblock content %}