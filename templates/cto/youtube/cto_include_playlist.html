{% extends 'cto/ctobase.html' %}
{% block content %}
{%load static%}

<head>
  <style>
    a:link {
      text-decoration: none;
    }

    select {
      width: 100%;
      height: 204px;
      line-height: 50px;
    }
  </style>


  <script src="https://unpkg.com/htmx.org@1.4.1"></script>
  <script src="https://unpkg.com/htmx.org/dist/ext/class-tools.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Open+Sans&display=swap" rel="stylesheet">

  <!-- Bootstrap core CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
</head>

<form onsubmit="return ShowProcessing()" method="POST" action="{% url 'cto-include-playlist-save' %}" autocomplete="off"
  style="margin:100px;margin-top: 0px;">
  <label>Play list </label>
  <select name="playlist[]" id="field2" multiple multiselect-search="true" multiselect-select-all="true"
    multiselect-max-items="20" onchange="console.log(this.selectedOptions)">
    {% for entry in pllist %}
    <option value="{{ entry.name}}">{{ entry.name }}</option>
    {% endfor %}
  </select> 
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-p34f1UUtsS3wqzfto5wAAmdvj+osOnFyQFpp4Ua3gs/ZVWx6oOypYoCJhGGScy+8"
    crossorigin="anonymous"></script>
  <script src="/static/multiselect-dropdown.js"></script>
  <button type="submit" name="startselected" class="btn btn-primary">Save</button>
</form>
<div id="waiting" style="display:none">
  <img src="/static/image/processing-gif-image-5.gif">
</div>
<script>
  function ShowProcessing() {
    document.getElementById('waiting').style.display = 'block';
    return true;
  }
</script>
<br><br><br><br><br><br>
{% endblock content %}